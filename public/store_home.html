<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storefront</title>
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="storefront.css">
</head>
<body>
    <header>
        <div class="site-name"><a href="/home">Dream Market</a></div>
        <div class="search-bar">
            <input type="text" placeholder="Search for products..." id="search">
            <button type="button">Search</button>
        </div>
    </header>
    <nav>
        <ul>
            <li class="navbaroption">
                <div class="dropdown">
                    <a class="dropbtn" href="#">Category 1</a>
                    <div class="dropdown-content">
                        <a href="#">Subcategory 1</a>
                        <a href="#">Subcategory 2</a>
                        <a href="#">Subcategory 3</a>
                    </div>
                </div>
            </li>
            <li class="navbaroption">
                <div class="dropdown">
                    <a class="dropbtn" href="#">Category 2</a>
                    <div class="dropdown-content">
                        <a href="#">Subcategory 1</a>
                        <a href="#">Subcategory 2</a>
                        <a href="#">Subcategory 3</a>
                    </div>
                </div>
            </li>
            <li class="navbaroption">
                <div class="dropdown">
                    <a class="dropbtn" href="#">Category 3</a>
                    <div class="dropdown-content">
                        <a href="#">Subcategory 1</a>
                        <a href="#">Subcategory 2</a>
                        <a href="#">Subcategory 3</a>
                    </div>
                </div>
            </li>
            <li class="navbaroption">
                <div class="dropdown">
                    <a class="dropbtn" href="#">Category 4</a>
                    <div class="dropdown-content">
                        <a href="#">Subcategory 1</a>
                        <a href="#">Subcategory 2</a>
                        <a href="#">Subcategory 3</a>
                    </div>
                </div>
            </li>
            <li class="navbaroption">
                <div class="dropdown">
                    <a class="dropbtn" href="#">Category 5</a>
                    <div class="dropdown-content">
                        <a href="#">Subcategory 1</a>
                        <a href="#">Subcategory 2</a>
                        <a href="#">Subcategory 3</a>
                    </div>
                </div>
            </li>
            <li class="navbaroption" style="float:right"><a href="/settings"><img src="images/settings-2-svgrepo-com.svg"></a></li>
            <li class="navbaroption" style="float:right"><a href="#"><img src="images/shopping-cart-svgrepo-com.svg"></a></li>
            <li class="navbaroption" style="float:right"><a href="#"><img src="images/person-svgrepo-com.svg"></a></li>
        </ul>
    </nav>

<!-- <div class="ad-section">
    <div class="ad">
        <img src="ad1-placeholder.jpg" alt="Advertisement 1" class="ad-banner">
    </div>
    <div class="ad">
        <img src="ad2-placeholder.jpg" alt="Advertisement 2" class="ad-banner">
    </div>
</div> -->


    <main>
        <!-- <h1>Welcome to Dream Market</h1> -->
        <div class="banner">
            <img src="bannerImage.jpg" alt="Promotional Banner">
            <div class="banner-text">
            <h2>Special Holiday Sale</h2>
            <p>Shop now for a Limited time only!</p>
        </div>
    </div>
        <div class="content-layout">
            <div class="store-container">
                <div class="row-div">
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 1" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 1</a></h2>
                        <p class="product-price">$29.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 2" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 2</a></h2>
                        <p class="product-price">$49.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 3" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 3</a></h2>
                        <p class="product-price">$19.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
                <div class="row-div">
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 4" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 4</a></h2>
                        <p class="product-price">$29.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 5" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 5</a></h2>
                        <p class="product-price">$49.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                    <div class="product-card">
                        <img src="images/product-img-placeholder.png" alt="Product 6" class="product-image">
                        <h2 class="product-title"><a href="/productpage">Product 6</a></h2>
                        <p class="product-price">$19.99</p>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </div>
    <!-- <div class="info-cards-container">
        <div class="info-card">
            <h2 class="info-card-title">Limited Time Offer!</h2>
            <p class="info-card-text">Get 50% off on all products.</p>
            <button class="info-card-action">Shop Now</button>
        </div>
         </div> -->
        </div>
    </main>

    <footer class="bottom-bar">
        <div class="footer-links">
            <a href="FAQ.html" class="footer-link">FAQ</a>
            <a href="contact_us.html" class="footer-link">Contact Us</a>
            <p> &copy; 2024 Dream Market Inc.</p>
        </div>
    </footer>
    <script>
    async function fetchProductsForHomePage() {
        try {
            const response = await fetch('/products');
            const products = await response.json();
    
            const storeContainer = document.querySelector('.store-container');
            storeContainer.innerHTML = '';
    
            products.forEach(product => {
                const productHTML = `
                    <div class="product-card">
                        <img src="/images/product-img-placeholder.png" alt="${product.name}" class="product-image">
                        <h2 class="product-title">
                            <a href="/productpage">${product.name}</a>
                        </h2>
                        <p class="product-price">$${product.price.toFixed(2)}</p>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">Add to Cart</button>
                    </div>
                `;
                storeContainer.innerHTML += productHTML;
            });
        } catch (error) {
            console.error("Error fetching products for home page:", error);
            document.querySelector('.store-container').innerHTML = '<p>Unable to load products. Please try again later.</p>';
        }
    }
    
    function addToCart(productId) {
        alert(`Product with ID ${productId} added to cart!`);
    }
    
    window.onload = fetchProductsForHomePage;
    </script>
</body>
</html>
